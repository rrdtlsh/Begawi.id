<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrasi Pencari Kerja - Begawi</title>
    <link rel="stylesheet" href="regist pengguna style.css">
</head>
<body>
    <div class="registration-container">
        <div class="logo-begawi">Begaw<span>i</span></div>
        <h2>Registrasi Pengguna</h2>

        <form action="#" method="POST" id="registrationForm">
            <div class="input-group">
                <label for="nama_lengkap">Nama Lengkap</label>
                <input type="text" id="nama_lengkap" name="nama_lengkap" placeholder="Masukkan nama lengkap Anda" required>
            </div>

            <div class="input-group">
                <label for="domisili">Domisili (Banjarmasin)</label>
                <select id="domisili" name="domisili" required>
                    <option value="" disabled selected>Pilih Domisili</option>
                    <option value="Banjarmasin Selatan">Banjarmasin Selatan</option>
                    <option value="Banjarmasin Utara">Banjarmasin Utara</option>
                    <option value="Banjarmasin Tengah">Banjarmasin Tengah</option>
                    <option value="Banjarmasin Barat">Banjarmasin Barat</option>
                    <option value="Banjarmasin Timur">Banjarmasin Timur</option>
                </select>
            </div>

            <div class="input-group">
                <label for="kategori_keahlian">Kategori Keahlian</label>
                <select id="kategori_keahlian" name="kategori_keahlian" required>
                    <option value="" disabled selected>Pilih Kategori Keahlian</option>
                    <option value="it">IT & Perangkat Lunak</option>
                    <option value="marketing">Pemasaran & Komunikasi</option>
                    <option value="sales">Penjualan</option>
                    <option value="design">Desain/Kreatif</option>
                    <option value="finance">Keuangan/Akuntansi</option>
                    <option value="education">Pendidikan</option> 
                    <option value="tidak_ada_keahlian">Tidak Memiliki Keahlian Saat Ini</option>
                </select>
            </div>

            <div id="skill_section">
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="has_technical_skill" name="has_technical_skill">
                        <label for="has_technical_skill">Memiliki Skill Teknikal</label>
                    </div>
                </div>
                <div class="skill-description-group hidden" id="technical_skill_description_group">
                    <label for="technical_skill_description">Jelaskan Skill Teknikal Anda:</label>
                    <textarea id="technical_skill_description" name="technical_skill_description" placeholder="Contoh: Menguasai Python untuk analisis data, familiar dengan SQL / Database, dapat membuat website sederhana dengan HTML & CSS."></textarea>
                </div>

                <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="has_non_technical_skill" name="has_non_technical_skill">
                            <label for="has_non_technical_skill">Memiliki Skill Non-Teknikal</label>
                        </div>
                </div>
                <div class="skill-description-group hidden" id="non_technical_skill_description_group">
                    <label for="non_technical_skill_description">Jelaskan Skill Non-Teknikal Anda:</label>
                    <textarea id="non_technical_skill_description" name="non_technical_skill_description" placeholder="Contoh: Mampu berkomunikasi dengan baik, dapat bekerja dalam tim, memiliki kemampuan problem solving yang cepat."></textarea>
                </div>
            </div>
            <div class="input-group hidden" id="minat_dituju_group">
                <label for="minat_dituju">Minat Bidang Pekerjaan yang Dituju</label>
                <input type="text" id="minat_dituju" name="minat_dituju" placeholder="Contoh: Administrasi, Pelayanan Pelanggan, Digital Marketing">
            </div>
            <div class="input-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="email@example.com" required>
            </div>

            <div class="input-group">
                <label for="password">Kata Sandi</label>
                <input type="password" id="password" name="password" placeholder="Buat kata sandi (minimal 8 karakter)" required minlength="8">
            </div>
             <div class="input-group">
                <label for="konfirmasi_password">Konfirmasi Kata Sandi</label>
                <input type="password" id="konfirmasi_password" name="konfirmasi_password" placeholder="Ulangi kata sandi Anda" required>
            </div>


            <button type="submit" class="btn btn-primary">DAFTAR</button>
        </form>

        <p class="login-link">
            Sudah mempunyai akun Begawi? <a href="login.html">Masuk</a>
        </p>
    </div>

    <script>
        const kategoriKeahlianSelect = document.getElementById('kategori_keahlian');
        const skillSection = document.getElementById('skill_section');
        const minatDitujuGroup = document.getElementById('minat_dituju_group');
        const minatDitujuInput = document.getElementById('minat_dituju');

        const hasTechnicalSkillCheckbox = document.getElementById('has_technical_skill');
        const technicalSkillDescriptionGroup = document.getElementById('technical_skill_description_group');
        const technicalSkillDescriptionTextarea = document.getElementById('technical_skill_description');

        const hasNonTechnicalSkillCheckbox = document.getElementById('has_non_technical_skill');
        const nonTechnicalSkillDescriptionGroup = document.getElementById('non_technical_skill_description_group');
        const nonTechnicalSkillDescriptionTextarea = document.getElementById('non_technical_skill_description');

        // Fungsi untuk mengatur visibilitas berdasarkan kategori keahlian
        function toggleSkillMinatSections() {
            if (kategoriKeahlianSelect.value === 'tidak_ada_keahlian') {
                skillSection.classList.add('hidden');
                minatDitujuGroup.classList.remove('hidden');
                minatDitujuInput.required = true; // Wajib diisi jika tidak ada keahlian

                // Kosongkan dan reset input skill jika sebelumnya terisi
                hasTechnicalSkillCheckbox.checked = false;
                technicalSkillDescriptionGroup.classList.add('hidden');
                technicalSkillDescriptionTextarea.value = '';
                technicalSkillDescriptionTextarea.required = false;

                hasNonTechnicalSkillCheckbox.checked = false;
                nonTechnicalSkillDescriptionGroup.classList.add('hidden');
                nonTechnicalSkillDescriptionTextarea.value = '';
                nonTechnicalSkillDescriptionTextarea.required = false;

            } else {
                skillSection.classList.remove('hidden');
                minatDitujuGroup.classList.add('hidden');
                minatDitujuInput.required = false;
                minatDitujuInput.value = ''; // Kosongkan minat jika memilih punya keahlian
            }
        }

        // Event listener untuk perubahan pada dropdown kategori keahlian
        kategoriKeahlianSelect.addEventListener('change', toggleSkillMinatSections);

        // Event listener untuk checkbox skill teknikal
        hasTechnicalSkillCheckbox.addEventListener('change', function() {
            if (this.checked) {
                technicalSkillDescriptionGroup.classList.remove('hidden');
                technicalSkillDescriptionTextarea.required = true; // Wajib diisi jika checkbox dicentang
            } else {
                technicalSkillDescriptionGroup.classList.add('hidden');
                technicalSkillDescriptionTextarea.value = ''; // Kosongkan jika tidak dicentang
                technicalSkillDescriptionTextarea.required = false;
            }
        });

        // Event listener untuk checkbox skill non-teknikal
        hasNonTechnicalSkillCheckbox.addEventListener('change', function() {
            if (this.checked) {
                nonTechnicalSkillDescriptionGroup.classList.remove('hidden');
                nonTechnicalSkillDescriptionTextarea.required = true; // Wajib diisi jika checkbox dicentang
            } else {
                nonTechnicalSkillDescriptionGroup.classList.add('hidden');
                nonTechnicalSkillDescriptionTextarea.value = ''; // Kosongkan jika tidak dicentang
                nonTechnicalSkillDescriptionTextarea.required = false;
            }
        });

        // Inisialisasi tampilan saat halaman dimuat (jika ada nilai default)
        toggleSkillMinatSections();


        // Validasi konfirmasi password
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('konfirmasi_password');
        const registrationForm = document.getElementById('registrationForm');

        function validatePasswordConfirmation() {
            if (passwordInput.value !== confirmPasswordInput.value) {
                confirmPasswordInput.setCustomValidity("Kata sandi tidak cocok.");
            } else {
                confirmPasswordInput.setCustomValidity("");
            }
        }

        passwordInput.addEventListener('change', validatePasswordConfirmation);
        confirmPasswordInput.addEventListener('keyup', validatePasswordConfirmation);
        
        registrationForm.addEventListener('submit', function(event) {
            // Validasi konfirmasi password sebelum submit
            if (passwordInput.value !== confirmPasswordInput.value) {
                alert("Konfirmasi kata sandi tidak cocok dengan kata sandi yang Anda masukkan.");
                confirmPasswordInput.focus();
                event.preventDefault();
                return;
            }

            // Validasi jika memilih punya skill tapi tidak mengisi deskripsi
            if (kategoriKeahlianSelect.value !== 'tidak_ada_keahlian') {
                if (hasTechnicalSkillCheckbox.checked && technicalSkillDescriptionTextarea.value.trim() === '') {
                    alert("Harap jelaskan skill teknikal yang Anda miliki.");
                    technicalSkillDescriptionTextarea.focus();
                    event.preventDefault();
                    return;
                }
                if (hasNonTechnicalSkillCheckbox.checked && nonTechnicalSkillDescriptionTextarea.value.trim() === '') {
                    alert("Harap jelaskan skill non-teknikal yang Anda miliki.");
                    nonTechnicalSkillDescriptionTextarea.focus();
                    event.preventDefault();
                    return;
                }
                 // Validasi jika tidak mencentang salah satu skill (opsional, tergantung kebutuhan)
                if (!hasTechnicalSkillCheckbox.checked && !hasNonTechnicalSkillCheckbox.checked) {
                    alert("Harap pilih dan jelaskan minimal satu jenis skill (teknikal atau non-teknikal), atau pilih 'Tidak Memiliki Keahlian Saat Ini' pada Kategori Keahlian.");
                    // Anda bisa mengarahkan fokus ke checkbox atau kategori keahlian
                    event.preventDefault();
                    return;
                }
            } else { // Jika memilih tidak ada keahlian
                if (minatDitujuInput.value.trim() === '') {
                     alert("Harap isi minat bidang pekerjaan yang Anda tuju.");
                     minatDitujuInput.focus();
                     event.preventDefault();
                     return;
                }
            }
        });

    </script>
</body>
</html>